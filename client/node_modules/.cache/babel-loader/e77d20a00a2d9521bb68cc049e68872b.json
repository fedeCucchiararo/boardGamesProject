{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/src/components/Landing/Landing.js\";\nimport React, { Component } from 'react';\nimport './Landing.css';\nimport Snackbar from '../Snackbar/Snackbar';\nimport GameList from '../GameList/GameList';\nimport RegisterModal from '../RegisterModal/RegisterModal';\nimport logic from '../../logic';\nimport PlayList from '../PlayList/PlayList';\nimport Card from '../Card/Card';\nimport PlaySaveModal from '../PlaySaveModal/PlaySaveModal';\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nimport GameInfoModal from '../GameInfoModal/GameInfoModal';\nimport { CSSTransition } from 'react-transition-group';\nimport { Tabs } from \"@yazanaabed/react-tabs\";\n/** Pagination */\n\nimport Countries from 'countries-api';\nimport Pagination from '../Pagination/Pagination';\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Landing)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      error: null,\n      allGames: [],\n      ownedGames: [],\n      showGameInfo: false,\n      showPlaySaveModal: false,\n      game: {},\n      search: '',\n      plays: [],\n      currentGames: [],\n      currentPage: null,\n      totalPages: null,\n      page: 1,\n      pages: null\n    };\n\n    _this.onPageChanged = function (data) {\n      var allGames = _this.state.allGames;\n      var currentPage = data.currentPage,\n          totalPages = data.totalPages,\n          pageLimit = data.pageLimit;\n      var offset = (currentPage - 1) * pageLimit;\n      var currentGames = allGames.slice(offset, offset + pageLimit);\n\n      _this.setState({\n        currentPage: currentPage,\n        currentGames: currentGames,\n        totalPages: totalPages\n      });\n    };\n\n    _this.updateSearch = function (event) {\n      _this.setState({\n        search: event.target.value\n      });\n    };\n\n    _this.changeHandler = function (event) {\n      console.log(event.target.value);\n    };\n\n    _this.moreInfoHandler = function (game) {\n      _this.setState(function () {\n        return {\n          game: _objectSpread({}, game),\n          showGameInfo: !_this.state.showGameInfo\n        };\n      });\n    };\n\n    _this.savePlayClickHandler = function (game) {\n      _this.setState(function () {\n        return {\n          game: _objectSpread({}, game),\n          showPlaySaveModal: !_this.state.showPlaySaveModal\n        };\n      });\n    };\n\n    _this.closePlaySaveModalHandler = function () {\n      _this.setState(function () {\n        return {\n          showPlaySaveModal: !_this.state.showPlaySaveModal\n        };\n      });\n    };\n\n    _this.closeModalHandler = function () {\n      _this.setState(function () {\n        return {\n          showGameInfo: !_this.state.showGameInfo\n        };\n      });\n    };\n\n    _this.mechanicsClickHandler = function (mechanic) {\n      console.log(mechanic);\n    };\n\n    _this.addOrRemoveHandler = function (fromOwned, gameId) {\n      if (fromOwned) {\n        logic.removeGameFromOwnedGames(gameId).then(\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var ownedGames;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return logic.getUserOwnedGames(logic._userId);\n\n                case 2:\n                  ownedGames = _context.sent;\n\n                  _this.setState(function () {\n                    return {\n                      ownedGames: _toConsumableArray(ownedGames.data)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }))).catch(function (err) {\n          _this.setState(function () {\n            return {\n              error: err.message\n            };\n          });\n        });\n      } else {\n        logic.addGameToOwnedGames(gameId).then(\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2() {\n          var ownedGames;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return logic.getUserOwnedGames(logic._userId);\n\n                case 2:\n                  ownedGames = _context2.sent;\n\n                  _this.setState(function () {\n                    return {\n                      ownedGames: _toConsumableArray(ownedGames.data)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }))).catch(function (err) {\n          _this.setState(function () {\n            return {\n              error: err.message\n            };\n          });\n        });\n      }\n    };\n\n    _this.playSaveErrorHandler = function (err) {\n      _this.setState(function () {\n        return {\n          error: err\n        };\n      });\n    };\n\n    _this.playSaveHandler = function (notes, date, players, gameId) {\n      logic.registerPlay(notes, date, players, gameId).then(\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3(res) {\n          var plays;\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return logic.getUserPlays(logic._userId);\n\n                case 2:\n                  plays = _context3.sent;\n\n                  _this.setState(function () {\n                    return {\n                      error: res.message,\n                      plays: _toConsumableArray(plays)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        return _this.setState({\n          error: err.message\n        });\n      });\n    };\n\n    _this.playDeleteHandler = function (playId) {\n      logic.deletePlay(playId).then(\n      /*#__PURE__*/\n      function () {\n        var _ref4 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee4(res) {\n          var plays;\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return logic.getUserPlays(logic._userId);\n\n                case 2:\n                  plays = _context4.sent;\n\n                  _this.setState(function () {\n                    return {\n                      // error: res.message,\n                      plays: _toConsumableArray(plays)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        return function (_x2) {\n          return _ref4.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        return _this.setState({\n          error: err.message\n        });\n      });\n    };\n\n    _this.closeErrorSnackbarHandler = function () {\n      _this.setState(function () {\n        return {\n          error: ''\n        };\n      });\n    };\n\n    _this.loadMore =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var _this$state, page, allGames, nextData;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _this$state = _this.state, page = _this$state.page, allGames = _this$state.allGames;\n              _context5.next = 3;\n              return logic.getAllGamesWithPagination(page + 1, 5);\n\n            case 3:\n              nextData = _context5.sent;\n              allGames.push.apply(allGames, _toConsumableArray(nextData.data.games));\n\n              _this.setState(function () {\n                return {\n                  page: nextData.data.paginationData.page,\n                  allGames: _toConsumableArray(allGames)\n                };\n              });\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    _this.goBackHandler = function () {\n      return _this.props.history.push('/');\n    };\n\n    _this.handleSignUpClick = function () {\n      return _this.props.history.push('/register');\n    };\n\n    _this.handleSignInClick = function () {\n      return _this.props.history.push('/login');\n    };\n\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var res, ownedGames, plays;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return logic.getAllGamesWithPagination(1, 5);\n\n              case 2:\n                res = _context6.sent;\n                this.setState(function () {\n                  return {\n                    page: 1,\n                    pages: res.data.paginationData.pages,\n                    allGames: _toConsumableArray(res.data.games)\n                  };\n                });\n\n                if (!logic.loggedIn) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                _context6.next = 7;\n                return logic.getUserOwnedGames(logic._userId);\n\n              case 7:\n                ownedGames = _context6.sent;\n                _context6.next = 10;\n                return logic.getUserPlays(logic._userId);\n\n              case 10:\n                plays = _context6.sent;\n                this.setState(function () {\n                  return {\n                    ownedGames: _toConsumableArray(ownedGames.data),\n                    plays: _toConsumableArray(plays)\n                  };\n                });\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          allGames = _this$state2.allGames,\n          currentGames = _this$state2.currentGames,\n          currentPage = _this$state2.currentPage,\n          totalPages = _this$state2.totalPages;\n      var totalGames = allGames.length;\n      if (totalGames === 0) return null;\n      var headerClass = ['text-dark py-2 pr-4 m-0', currentPage ? 'border-gray border-right' : ''].join(' ').trim();\n      var searchQuery = this.state.search.replace(/\\s+/g, '').toLowerCase();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, this.state.error ? React.createElement(Snackbar, {\n        onCloseSnackbar: this.closeErrorSnackbarHandler,\n        message: this.state.error,\n        className: 'snackbar',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }) : null, React.createElement(GameInfoModal, {\n        onMechanicsClick: this.mechanicsClickHandler,\n        onClose: this.closeModalHandler,\n        show: this.state.showGameInfo,\n        onAdd: this.addHandler,\n        game: this.state.game,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), React.createElement(PlaySaveModal, {\n        onClose: this.closePlaySaveModalHandler,\n        show: this.state.showPlaySaveModal,\n        onPlaySave: this.playSaveHandler,\n        game: this.state.game,\n        onError: this.playSaveErrorHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"landing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"header-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-sm navbar-light bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"navbar-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Navbar\"), React.createElement(\"button\", {\n        className: \"navbar-toggler\",\n        type: \"button\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#navbarTogglerDemo02\",\n        \"aria-controls\": \"navbarTogglerDemo02\",\n        \"aria-expanded\": \"false\",\n        \"aria-label\": \"Toggle navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navbar-toggler-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse\",\n        id: \"navbarTogglerDemo02\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"navbar-nav mr-auto mt-2 mt-sm-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"BGG\")), logic.loggedIn ? React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        onClick: this.props.onLogoutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Sign out\")) : React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        onClick: this.handleSignInClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, \"Sing In\")), logic.loggedIn ? null : React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        onClick: this.handleSignUpClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"Sign Up\"))))), React.createElement(\"div\", {\n        className: \"header__main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"header__form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.search,\n        type: \"text\",\n        onChange: this.updateSearch,\n        placeholder: \"Search a game\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      })))), React.createElement(Tabs, {\n        activeTab: {\n          id: \"tab1\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(Tabs.Tab, {\n        id: \"tab1\",\n        title: \"All Games\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(GameList, {\n        onSavePlayClick: this.savePlayClickHandler,\n        onAddOrRemoveClick: this.addOrRemoveHandler,\n        onMoreInfoClick: this.moreInfoHandler,\n        games: this.state.allGames,\n        searchQuery: searchQuery,\n        loggedIn: logic.loggedIn,\n        title: 'All Games',\n        fromOwned: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }), this.state.page !== this.state.pages, React.createElement(\"h4\", {\n        onClick: this.loadMore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, \"Load More...\")), logic.loggedIn ? React.createElement(Tabs.Tab, {\n        id: \"tab2\",\n        title: \"My Games\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, React.createElement(GameList, {\n        onSavePlayClick: this.savePlayClickHandler,\n        onAddOrRemoveClick: this.addOrRemoveHandler,\n        onMoreInfoClick: this.moreInfoHandler,\n        games: this.state.ownedGames,\n        searchQuery: searchQuery,\n        loggedIn: logic.loggedIn,\n        title: 'My Games',\n        fromOwned: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      })) : null, logic.loggedIn ? React.createElement(Tabs.Tab, {\n        id: \"tab3\",\n        title: \"My Plays\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(PlayList, {\n        onPlayDelete: this.playDeleteHandler,\n        plays: this.state.plays,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      })) : null)), React.createElement(\"footer\", {\n        className: \"footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, \" This is the footer \")));\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nexport default withRouter(Landing);","map":{"version":3,"sources":["/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/src/components/Landing/Landing.js"],"names":["React","Component","Snackbar","GameList","RegisterModal","logic","PlayList","Card","PlaySaveModal","BrowserRouter","Router","Route","Link","Redirect","withRouter","GameInfoModal","CSSTransition","Tabs","Countries","Pagination","Landing","state","error","allGames","ownedGames","showGameInfo","showPlaySaveModal","game","search","plays","currentGames","currentPage","totalPages","page","pages","onPageChanged","data","pageLimit","offset","slice","setState","updateSearch","event","target","value","changeHandler","console","log","moreInfoHandler","savePlayClickHandler","closePlaySaveModalHandler","closeModalHandler","mechanicsClickHandler","mechanic","addOrRemoveHandler","fromOwned","gameId","removeGameFromOwnedGames","then","getUserOwnedGames","_userId","catch","err","message","addGameToOwnedGames","playSaveErrorHandler","playSaveHandler","notes","date","players","registerPlay","res","getUserPlays","playDeleteHandler","playId","deletePlay","closeErrorSnackbarHandler","loadMore","getAllGamesWithPagination","nextData","push","games","paginationData","goBackHandler","props","history","handleSignUpClick","handleSignInClick","loggedIn","totalGames","length","headerClass","join","trim","searchQuery","replace","toLowerCase","addHandler","onLogoutClick","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './Landing.css'\nimport Snackbar from '../Snackbar/Snackbar'\nimport GameList from '../GameList/GameList'\nimport RegisterModal from '../RegisterModal/RegisterModal'\nimport logic from '../../logic'\nimport PlayList from '../PlayList/PlayList'\nimport Card from '../Card/Card'\nimport PlaySaveModal from '../PlaySaveModal/PlaySaveModal'\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter } from \"react-router-dom\"\nimport GameInfoModal from '../GameInfoModal/GameInfoModal'\nimport { CSSTransition } from 'react-transition-group'\nimport { Tabs } from \"@yazanaabed/react-tabs\";\n\n/** Pagination */\n\nimport Countries from 'countries-api';\n\nimport Pagination from '../Pagination/Pagination';\n\n\nclass Landing extends Component {\n\n    state = {\n        error: null,\n        allGames: [],\n        ownedGames: [],\n        showGameInfo: false,\n        showPlaySaveModal: false,\n        game: {},\n        search: '',\n        plays: [],\n        currentGames: [],\n        currentPage: null,\n        totalPages: null,\n        page: 1,\n        pages: null\n    }\n\n\n    async componentDidMount() {\n\n        let res = await logic.getAllGamesWithPagination(1, 5)\n        \n        this.setState(() => {\n            return ({\n                page: 1,\n                pages: res.data.paginationData.pages,\n                allGames: [...res.data.games]\n            })\n        })\n\n        if (logic.loggedIn) {\n            let ownedGames = await logic.getUserOwnedGames(logic._userId)\n            let plays = await logic.getUserPlays(logic._userId)\n\n            this.setState(() => {\n                return ({\n                    ownedGames: [...ownedGames.data],\n                    plays: [...plays]\n                })\n            })\n        }\n    }\n\n    onPageChanged = data => {\n        const { allGames } = this.state;\n        const { currentPage, totalPages, pageLimit } = data;\n\n        const offset = (currentPage - 1) * pageLimit;\n        const currentGames = allGames.slice(offset, offset + pageLimit);\n\n        this.setState({ currentPage, currentGames, totalPages });\n    }\n\n    updateSearch = (event) => {\n        this.setState({ search: event.target.value })\n    }\n\n    changeHandler = (event) => {\n        console.log(event.target.value)\n    }\n\n    moreInfoHandler = (game) => {\n        this.setState(() => {\n            return ({\n                game: { ...game },\n                showGameInfo: !this.state.showGameInfo\n            })\n        })\n    }\n\n    savePlayClickHandler = (game) => {\n        this.setState(() => {\n            return ({\n                game: { ...game },\n                showPlaySaveModal: !this.state.showPlaySaveModal\n            })\n        })\n    }\n\n    closePlaySaveModalHandler = () => {\n        this.setState(() => {\n            return ({\n                showPlaySaveModal: !this.state.showPlaySaveModal\n            })\n        })\n    }\n\n    closeModalHandler = () => {\n        this.setState(() => {\n            return ({\n                showGameInfo: !this.state.showGameInfo\n            })\n        })\n    }\n\n    mechanicsClickHandler = (mechanic) => {\n        console.log(mechanic)\n    }\n\n    addOrRemoveHandler = (fromOwned, gameId) => {\n\n        if (fromOwned) {\n\n            logic.removeGameFromOwnedGames(gameId)\n                .then(async () => {\n                    let ownedGames = await logic.getUserOwnedGames(logic._userId)\n                    this.setState(() => {\n                        return ({\n                            ownedGames: [...ownedGames.data]\n                        })\n                    })\n                })\n                .catch(err => {\n                    this.setState(() => {\n                        return ({\n                            error: err.message\n                        })\n                    })\n                })\n\n        } else {\n\n            logic.addGameToOwnedGames(gameId)\n                .then(async () => {\n                    let ownedGames = await logic.getUserOwnedGames(logic._userId)\n                    this.setState(() => {\n                        return ({\n                            ownedGames: [...ownedGames.data]\n                        })\n                    })\n                })\n                .catch(err => {\n                    this.setState(() => {\n                        return ({\n                            error: err.message\n                        })\n                    })\n                })\n\n\n        }\n    }\n\n    playSaveErrorHandler = err => {\n        this.setState(() => {\n            return ({\n                error: err\n            })\n        })\n    }\n\n    playSaveHandler = (notes, date, players, gameId) => {\n\n        logic.registerPlay(notes, date, players, gameId)\n            .then(async (res) => {\n                let plays = await logic.getUserPlays(logic._userId)\n                this.setState(() => {\n                    return ({\n                        error: res.message,\n                        plays: [...plays]\n                    })\n                })\n            })\n            .catch(err => this.setState({ error: err.message }))\n    }\n\n    playDeleteHandler = (playId) => {\n\n        logic.deletePlay(playId)\n            .then(async (res) => {\n                let plays = await logic.getUserPlays(logic._userId)\n                this.setState(() => {\n                    return ({\n                        // error: res.message,\n                        plays: [...plays]\n                    })\n                })\n            })\n            .catch(err => this.setState({ error: err.message }))\n    }\n\n    closeErrorSnackbarHandler = () => {\n        this.setState(() => {\n            return ({\n                error: ''\n            })\n        })\n    }\n\n    loadMore = async () => {\n\n        const { page, allGames } = this.state\n        let nextData = await logic.getAllGamesWithPagination(page+1, 5)\n        \n        allGames.push(...nextData.data.games)\n        \n        this.setState(() => {\n            \n            return ({\n                page: nextData.data.paginationData.page,\n                allGames: [...allGames]\n            })\n        })\n    }\n\n    goBackHandler = () => this.props.history.push('/')\n\n    handleSignUpClick = () => this.props.history.push('/register')\n\n    handleSignInClick = () => this.props.history.push('/login')\n\n\n\n\n    render() {\n\n        const { allGames, currentGames, currentPage, totalPages } = this.state;\n        const totalGames = allGames.length;\n\n        if (totalGames === 0) return null;\n\n        const headerClass = ['text-dark py-2 pr-4 m-0', currentPage ? 'border-gray border-right' : ''].join(' ').trim();\n\n        let searchQuery = this.state.search.replace(/\\s+/g, '').toLowerCase()\n\n        return (\n            <div>\n                {\n                    this.state.error ?\n                        <Snackbar\n                            onCloseSnackbar={this.closeErrorSnackbarHandler}\n                            message={this.state.error}\n                            className={'snackbar'}\n                        />\n                        : null\n                }\n\n                < GameInfoModal\n                    onMechanicsClick={this.mechanicsClickHandler}\n                    onClose={this.closeModalHandler}\n                    show={this.state.showGameInfo}\n                    onAdd={this.addHandler}\n                    game={this.state.game}\n                />\n\n                <PlaySaveModal\n                    onClose={this.closePlaySaveModalHandler}\n                    show={this.state.showPlaySaveModal}\n                    onPlaySave={this.playSaveHandler}\n                    game={this.state.game}\n                    onError={this.playSaveErrorHandler}\n                />\n\n                <div className='landing' >\n                    <header className='header-container'>\n                        <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n                            <p className=\"navbar-brand\">Navbar</p>\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo02\" aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                                <span className=\"navbar-toggler-icon\" />\n                            </button>\n                            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\n                                <ul className=\"navbar-nav mr-auto mt-2 mt-sm-0\">\n                                    <li className=\"nav-item\">\n                                        <p className=\"nav-link\" >BGG</p>\n                                    </li>\n                                    {logic.loggedIn ?\n                                        <li className=\"nav-item\">\n                                            <p className=\"nav-link\" onClick={this.props.onLogoutClick}>Sign out</p>\n                                        </li> :\n                                        <li className=\"nav-item\">\n                                            <p className=\"nav-link\" onClick={this.handleSignInClick}>Sing In</p>\n                                        </li>\n                                    }\n\n                                    {logic.loggedIn ?\n                                        null :\n                                        <li className=\"nav-item\">\n                                            <p className=\"nav-link\" onClick={this.handleSignUpClick}>Sign Up</p>\n                                        </li>\n                                    }\n\n                                </ul>\n                            </div>\n                        </nav>\n                        <div className='header__main'>\n\n\n                            {/********        ********/}\n                            {/******** Search ********/}\n                            {/********        ********/}\n                            <form className='header__form'>\n                                <input value={this.state.search} type='text' onChange={this.updateSearch} placeholder='Search a game' />\n                                <input type='submit' />\n                            </form>\n                            {/* {this.state.search ? <SearchPreview searchQuery={this.state.search} onAddOrRemoveClick={this.addOrRemoveHandler} fromOwned={false} onMoreInfoClick={this.moreInfoHandler} title={'Search result'} games={this.state.allGames} /> : null} */}\n\n                            {/* <Search allGames={this.state.allGames} onChange={this.updateSearch}/> */}\n                        </div>\n                    </header>\n\n                    <Tabs\n                        activeTab={{\n                            id: \"tab1\"\n                        }}\n                    >\n                        <Tabs.Tab id=\"tab1\" title='All Games'>\n                            {/** Show all games */}\n                            <GameList\n                                onSavePlayClick={this.savePlayClickHandler}\n                                onAddOrRemoveClick={this.addOrRemoveHandler}\n                                onMoreInfoClick={this.moreInfoHandler}\n                                games={this.state.allGames}\n                                searchQuery={searchQuery}\n                                loggedIn={logic.loggedIn}\n                                title={'All Games'}\n                                fromOwned={false}\n                            />\n                            {this.state.page !== this.state.pages}\n                            <h4 onClick={this.loadMore}>Load More...</h4>\n                        </Tabs.Tab>\n\n                        {logic.loggedIn ?\n                            <Tabs.Tab id=\"tab2\" title='My Games'>\n                                {/** If logged in, then show \"my Games\" */}\n                                <GameList\n                                    onSavePlayClick={this.savePlayClickHandler}\n                                    onAddOrRemoveClick={this.addOrRemoveHandler}\n                                    onMoreInfoClick={this.moreInfoHandler}\n                                    games={this.state.ownedGames}\n                                    searchQuery={searchQuery}\n                                    loggedIn={logic.loggedIn}\n                                    title={'My Games'}\n                                    fromOwned={true}\n                                />\n                            </Tabs.Tab>\n                            : null\n                        }\n                        {logic.loggedIn ?\n                            <Tabs.Tab id=\"tab3\" title=\"My Plays\">\n                                <PlayList onPlayDelete={this.playDeleteHandler} plays={this.state.plays} />\n                            </Tabs.Tab>\n                            : null\n                        }\n                    </Tabs>\n\n\n                </div>\n\n                { /** Pagination */}\n\n\n\n                <footer className='footer'>\n                    <h1> This is the footer </h1>\n                </footer>\n            </div>\n        )\n    }\n\n}\n\n\nexport default withRouter(Landing)"]},"metadata":{},"sourceType":"module"}