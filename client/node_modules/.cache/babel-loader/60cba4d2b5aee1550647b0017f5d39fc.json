{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/src/components/Landing/Landing.js\";\nimport React, { Component } from 'react';\nimport './Landing.css';\nimport Snackbar from '../Snackbar/Snackbar';\nimport GameList from '../GameList/GameList';\nimport logic from '../../logic';\nimport PlayList from '../PlayList/PlayList';\nimport PlaySaveModal from '../PlaySaveModal/PlaySaveModal';\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nimport GameInfoModal from '../GameInfoModal/GameInfoModal';\nimport { Tabs } from \"@yazanaabed/react-tabs\";\nvar GAMES_PER_PAGE = 5;\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Landing)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      error: null,\n      allGames: [],\n      ownedGames: [],\n      showGameInfo: false,\n      showPlaySaveModal: false,\n      game: {},\n      search: '',\n      plays: [],\n      currentGames: [],\n      currentPage: null,\n      totalPages: null,\n      page: 1,\n      pages: null\n    };\n\n    _this.updateSearch = function (event) {\n      _this.setState({\n        search: event.target.value\n      });\n    };\n\n    _this.changeHandler = function (event) {\n      console.log(event.target.value);\n    };\n\n    _this.moreInfoHandler = function (game) {\n      _this.setState(function () {\n        return {\n          game: _objectSpread({}, game),\n          showGameInfo: !_this.state.showGameInfo\n        };\n      });\n    };\n\n    _this.savePlayClickHandler = function (game) {\n      _this.setState(function () {\n        return {\n          game: _objectSpread({}, game),\n          showPlaySaveModal: !_this.state.showPlaySaveModal\n        };\n      });\n    };\n\n    _this.closePlaySaveModalHandler = function () {\n      _this.setState(function () {\n        return {\n          showPlaySaveModal: !_this.state.showPlaySaveModal\n        };\n      });\n    };\n\n    _this.closeModalHandler = function () {\n      _this.setState(function () {\n        return {\n          showGameInfo: !_this.state.showGameInfo\n        };\n      });\n    };\n\n    _this.mechanicsClickHandler = function (mechanic) {\n      console.log(mechanic);\n    };\n\n    _this.addOrRemoveHandler = function (fromOwned, gameId) {\n      if (fromOwned) {\n        logic.removeGameFromOwnedGames(gameId).then(\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var ownedGames;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return logic.getUserOwnedGames(logic._userId);\n\n                case 2:\n                  ownedGames = _context.sent;\n\n                  _this.setState(function () {\n                    return {\n                      ownedGames: _toConsumableArray(ownedGames.data)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }))).catch(function (err) {\n          _this.setState(function () {\n            return {\n              error: err.message\n            };\n          });\n        });\n      } else {\n        logic.addGameToOwnedGames(gameId).then(\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2() {\n          var ownedGames;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return logic.getUserOwnedGames(logic._userId);\n\n                case 2:\n                  ownedGames = _context2.sent;\n\n                  _this.setState(function () {\n                    return {\n                      ownedGames: _toConsumableArray(ownedGames.data)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }))).catch(function (err) {\n          _this.setState(function () {\n            return {\n              error: err.message\n            };\n          });\n        });\n      }\n    };\n\n    _this.playSaveErrorHandler = function (err) {\n      _this.setState(function () {\n        return {\n          error: err\n        };\n      });\n    };\n\n    _this.playSaveHandler = function (notes, date, players, gameId) {\n      logic.registerPlay(notes, date, players, gameId).then(\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3(res) {\n          var plays;\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return logic.getUserPlays(logic._userId);\n\n                case 2:\n                  plays = _context3.sent;\n\n                  _this.setState(function () {\n                    return {\n                      error: res.message,\n                      plays: _toConsumableArray(plays)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        return _this.setState({\n          error: err.message\n        });\n      });\n    };\n\n    _this.pictureUploadHandler = function (event) {\n      try {\n        _this.setState({\n          loading: true\n        });\n\n        return logic.addProfileImage(event.target.files[0]).then(function () {\n          return _this.setState({\n            loading: false\n          });\n        }).then(function () {\n          return logic.retrieveUserProfile(_this.props.id).then(function (res) {\n            _this.setState({\n              user: res,\n              error: false\n            });\n          });\n        }).catch(function (err) {\n          return _this.setState({\n            error: err.message\n          });\n        });\n      } catch (err) {\n        _this.setState({\n          error: err.message\n        });\n      }\n    };\n\n    _this.playDeleteHandler = function (playId) {\n      logic.deletePlay(playId).then(\n      /*#__PURE__*/\n      function () {\n        var _ref4 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee4(res) {\n          var plays;\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return logic.getUserPlays(logic._userId);\n\n                case 2:\n                  plays = _context4.sent;\n\n                  _this.setState(function () {\n                    return {\n                      // error: res.message,\n                      plays: _toConsumableArray(plays)\n                    };\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        return function (_x2) {\n          return _ref4.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        return _this.setState({\n          error: err.message\n        });\n      });\n    };\n\n    _this.closeErrorSnackbarHandler = function () {\n      _this.setState(function () {\n        return {\n          error: ''\n        };\n      });\n    };\n\n    _this.loadMore =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var _this$state, page, allGames, nextData;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _this$state = _this.state, page = _this$state.page, allGames = _this$state.allGames;\n              _context5.next = 3;\n              return logic.getAllGamesWithPagination(page + 1, GAMES_PER_PAGE);\n\n            case 3:\n              nextData = _context5.sent;\n              allGames.push.apply(allGames, _toConsumableArray(nextData.data.games));\n\n              _this.setState(function () {\n                return {\n                  page: nextData.data.paginationData.page,\n                  allGames: _toConsumableArray(allGames)\n                };\n              });\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    _this.goBackHandler = function () {\n      return _this.props.history.push('/');\n    };\n\n    _this.handleSignUpClick = function () {\n      return _this.props.history.push('/register');\n    };\n\n    _this.handleSignInClick = function () {\n      return _this.props.history.push('/login');\n    };\n\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var res, ownedGames, plays;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return logic.getAllGamesWithPagination(1, GAMES_PER_PAGE);\n\n              case 2:\n                res = _context6.sent;\n                this.setState(function () {\n                  return {\n                    page: 1,\n                    pages: res.data.paginationData.pages,\n                    allGames: _toConsumableArray(res.data.games)\n                  };\n                });\n\n                if (!logic.loggedIn) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                _context6.next = 7;\n                return logic.getUserOwnedGames(logic._userId);\n\n              case 7:\n                ownedGames = _context6.sent;\n                _context6.next = 10;\n                return logic.getUserPlays(logic._userId);\n\n              case 10:\n                plays = _context6.sent;\n                this.setState(function () {\n                  return {\n                    ownedGames: _toConsumableArray(ownedGames.data),\n                    plays: _toConsumableArray(plays)\n                  };\n                });\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var searchQuery = this.state.search.replace(/\\s+/g, '').toLowerCase();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, this.state.error ? React.createElement(Snackbar, {\n        onCloseSnackbar: this.closeErrorSnackbarHandler,\n        message: this.state.error,\n        className: 'snackbar',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }) : null, React.createElement(GameInfoModal, {\n        onMechanicsClick: this.mechanicsClickHandler,\n        onClose: this.closeModalHandler,\n        show: this.state.showGameInfo,\n        onAdd: this.addHandler,\n        game: this.state.game,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), React.createElement(PlaySaveModal, {\n        onClose: this.closePlaySaveModalHandler,\n        show: this.state.showPlaySaveModal,\n        onPlaySave: this.playSaveHandler,\n        game: this.state.game,\n        onError: this.playSaveErrorHandler,\n        onPictureUpload: this.pictureUploadHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"landing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"header-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-sm navbar-light bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"navbar-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Navbar\"), React.createElement(\"button\", {\n        className: \"navbar-toggler\",\n        type: \"button\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#navbarTogglerDemo02\",\n        \"aria-controls\": \"navbarTogglerDemo02\",\n        \"aria-expanded\": \"false\",\n        \"aria-label\": \"Toggle navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navbar-toggler-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse\",\n        id: \"navbarTogglerDemo02\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"navbar-nav mr-auto mt-2 mt-sm-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"BGG\")), logic.loggedIn ? React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        onClick: this.props.onLogoutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Sign out\")) : React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        onClick: this.handleSignInClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"Sing In\")), logic.loggedIn ? null : React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nav-link\",\n        onClick: this.handleSignUpClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"Sign Up\"))))), React.createElement(\"div\", {\n        className: \"header__main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        className: \"filter_input\",\n        value: this.state.search,\n        type: \"text\",\n        onChange: this.updateSearch,\n        placeholder: \"type here to filter...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }), React.createElement(Tabs, {\n        activeTab: {\n          id: \"tab1\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(Tabs.Tab, {\n        id: \"tab1\",\n        title: \"All Games\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(GameList, {\n        onSavePlayClick: this.savePlayClickHandler,\n        onAddOrRemoveClick: this.addOrRemoveHandler,\n        onMoreInfoClick: this.moreInfoHandler,\n        games: this.state.allGames,\n        searchQuery: searchQuery,\n        loggedIn: logic.loggedIn,\n        title: 'All Games',\n        fromOwned: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }), this.state.page < this.state.pages ? React.createElement(\"h4\", {\n        className: \"gamelist__loadMore\",\n        onClick: this.loadMore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, \"Load more games...\") : React.createElement(\"h4\", {\n        className: \"gamelist__loadMore\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"No more games to show\")), logic.loggedIn ? React.createElement(Tabs.Tab, {\n        id: \"tab2\",\n        title: \"My Games\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(GameList, {\n        onSavePlayClick: this.savePlayClickHandler,\n        onAddOrRemoveClick: this.addOrRemoveHandler,\n        onMoreInfoClick: this.moreInfoHandler,\n        games: this.state.ownedGames,\n        searchQuery: searchQuery,\n        loggedIn: logic.loggedIn,\n        title: 'My Games',\n        fromOwned: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      })) : null, logic.loggedIn ? React.createElement(Tabs.Tab, {\n        id: \"tab3\",\n        title: \"My Plays\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(PlayList, {\n        onPlayDelete: this.playDeleteHandler,\n        plays: this.state.plays,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      })) : null)), React.createElement(\"footer\", {\n        className: \"footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, \" This is the footer \")));\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nexport default withRouter(Landing);","map":{"version":3,"sources":["/Users/fedegomez/bootcamp/collab/skylab-bootcamp-201809/staff/fede-gomez/project/client/src/components/Landing/Landing.js"],"names":["React","Component","Snackbar","GameList","logic","PlayList","PlaySaveModal","BrowserRouter","Router","Route","Link","Redirect","withRouter","GameInfoModal","Tabs","GAMES_PER_PAGE","Landing","state","error","allGames","ownedGames","showGameInfo","showPlaySaveModal","game","search","plays","currentGames","currentPage","totalPages","page","pages","updateSearch","event","setState","target","value","changeHandler","console","log","moreInfoHandler","savePlayClickHandler","closePlaySaveModalHandler","closeModalHandler","mechanicsClickHandler","mechanic","addOrRemoveHandler","fromOwned","gameId","removeGameFromOwnedGames","then","getUserOwnedGames","_userId","data","catch","err","message","addGameToOwnedGames","playSaveErrorHandler","playSaveHandler","notes","date","players","registerPlay","res","getUserPlays","pictureUploadHandler","loading","addProfileImage","files","retrieveUserProfile","props","id","user","playDeleteHandler","playId","deletePlay","closeErrorSnackbarHandler","loadMore","getAllGamesWithPagination","nextData","push","games","paginationData","goBackHandler","history","handleSignUpClick","handleSignInClick","loggedIn","searchQuery","replace","toLowerCase","addHandler","onLogoutClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './Landing.css'\nimport Snackbar from '../Snackbar/Snackbar'\nimport GameList from '../GameList/GameList'\nimport logic from '../../logic'\nimport PlayList from '../PlayList/PlayList'\nimport PlaySaveModal from '../PlaySaveModal/PlaySaveModal'\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter } from \"react-router-dom\"\nimport GameInfoModal from '../GameInfoModal/GameInfoModal'\nimport { Tabs } from \"@yazanaabed/react-tabs\";\n\nconst GAMES_PER_PAGE = 5\n\nclass Landing extends Component {\n\n    state = {\n        error: null,\n        allGames: [],\n        ownedGames: [],\n        showGameInfo: false,\n        showPlaySaveModal: false,\n        game: {},\n        search: '',\n        plays: [],\n        currentGames: [],\n        currentPage: null,\n        totalPages: null,\n        page: 1,\n        pages: null\n    }\n\n    async componentDidMount() {\n\n        let res = await logic.getAllGamesWithPagination(1, GAMES_PER_PAGE)\n\n        this.setState(() => {\n            return ({\n                page: 1,\n                pages: res.data.paginationData.pages,\n                allGames: [...res.data.games]\n            })\n        })\n\n        if (logic.loggedIn) {\n            let ownedGames = await logic.getUserOwnedGames(logic._userId)\n            let plays = await logic.getUserPlays(logic._userId)\n\n            this.setState(() => {\n                return ({\n                    ownedGames: [...ownedGames.data],\n                    plays: [...plays]\n                })\n            })\n        }\n    }\n\n    updateSearch = (event) => {\n        this.setState({ search: event.target.value })\n    }\n\n    changeHandler = (event) => {\n        console.log(event.target.value)\n    }\n\n    moreInfoHandler = (game) => {\n        this.setState(() => {\n            return ({\n                game: { ...game },\n                showGameInfo: !this.state.showGameInfo\n            })\n        })\n    }\n\n    savePlayClickHandler = (game) => {\n        this.setState(() => {\n            return ({\n                game: { ...game },\n                showPlaySaveModal: !this.state.showPlaySaveModal\n            })\n        })\n    }\n\n    closePlaySaveModalHandler = () => {\n        this.setState(() => {\n            return ({\n                showPlaySaveModal: !this.state.showPlaySaveModal\n            })\n        })\n    }\n\n    closeModalHandler = () => {\n        this.setState(() => {\n            return ({\n                showGameInfo: !this.state.showGameInfo\n            })\n        })\n    }\n\n    mechanicsClickHandler = (mechanic) => {\n        console.log(mechanic)\n    }\n\n    addOrRemoveHandler = (fromOwned, gameId) => {\n\n        if (fromOwned) {\n\n            logic.removeGameFromOwnedGames(gameId)\n                .then(async () => {\n                    let ownedGames = await logic.getUserOwnedGames(logic._userId)\n                    this.setState(() => {\n                        return ({\n                            ownedGames: [...ownedGames.data]\n                        })\n                    })\n                })\n                .catch(err => {\n                    this.setState(() => {\n                        return ({\n                            error: err.message\n                        })\n                    })\n                })\n\n        } else {\n\n            logic.addGameToOwnedGames(gameId)\n                .then(async () => {\n                    let ownedGames = await logic.getUserOwnedGames(logic._userId)\n                    this.setState(() => {\n                        return ({\n                            ownedGames: [...ownedGames.data]\n                        })\n                    })\n                })\n                .catch(err => {\n                    this.setState(() => {\n                        return ({\n                            error: err.message\n                        })\n                    })\n                })\n\n\n        }\n    }\n\n    playSaveErrorHandler = err => {\n        this.setState(() => {\n            return ({\n                error: err\n            })\n        })\n    }\n\n    playSaveHandler = (notes, date, players, gameId) => {\n\n        logic.registerPlay(notes, date, players, gameId)\n            .then(async (res) => {\n                let plays = await logic.getUserPlays(logic._userId)\n                this.setState(() => {\n                    return ({\n                        error: res.message,\n                        plays: [...plays]\n                    })\n                })\n            })\n            .catch(err => this.setState({ error: err.message }))\n    }\n\n    pictureUploadHandler = event => {\n        try {\n            this.setState({ loading: true })\n            return logic.addProfileImage(event.target.files[0])\n                .then(() => this.setState({ loading: false }))\n                .then(() => {\n                    return logic.retrieveUserProfile(this.props.id)\n                        .then(res => {\n                            this.setState({ user: res, error: false })\n                        })\n                })\n                .catch(err => this.setState({ error: err.message }))\n        } catch (err) {\n            this.setState({ error: err.message })\n        }\n    }\n\n    playDeleteHandler = (playId) => {\n\n        logic.deletePlay(playId)\n            .then(async (res) => {\n                let plays = await logic.getUserPlays(logic._userId)\n                this.setState(() => {\n                    return ({\n                        // error: res.message,\n                        plays: [...plays]\n                    })\n                })\n            })\n            .catch(err => this.setState({ error: err.message }))\n    }\n\n    closeErrorSnackbarHandler = () => {\n        this.setState(() => {\n            return ({\n                error: ''\n            })\n        })\n    }\n\n    loadMore = async () => {\n\n        const { page, allGames } = this.state\n        let nextData = await logic.getAllGamesWithPagination(page + 1, GAMES_PER_PAGE)\n\n        allGames.push(...nextData.data.games)\n\n        this.setState(() => {\n\n            return ({\n                page: nextData.data.paginationData.page,\n                allGames: [...allGames]\n            })\n        })\n    }\n\n    goBackHandler = () => this.props.history.push('/')\n\n    handleSignUpClick = () => this.props.history.push('/register')\n\n    handleSignInClick = () => this.props.history.push('/login')\n\n\n\n\n    render() {\n\n        let searchQuery = this.state.search.replace(/\\s+/g, '').toLowerCase()\n\n        return (\n            <div>\n                {\n                    this.state.error ?\n                        <Snackbar\n                            onCloseSnackbar={this.closeErrorSnackbarHandler}\n                            message={this.state.error}\n                            className={'snackbar'}\n                        />\n                        : null\n                }\n\n                < GameInfoModal\n                    onMechanicsClick={this.mechanicsClickHandler}\n                    onClose={this.closeModalHandler}\n                    show={this.state.showGameInfo}\n                    onAdd={this.addHandler}\n                    game={this.state.game}\n                />\n\n                <PlaySaveModal\n                    onClose={this.closePlaySaveModalHandler}\n                    show={this.state.showPlaySaveModal}\n                    onPlaySave={this.playSaveHandler}\n                    game={this.state.game}\n                    onError={this.playSaveErrorHandler}\n                    onPictureUpload={this.pictureUploadHandler}\n                />\n\n                <div className='landing' >\n                    <header className='header-container'>\n                        <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n                            <p className=\"navbar-brand\">Navbar</p>\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo02\" aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                                <span className=\"navbar-toggler-icon\" />\n                            </button>\n                            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\n                                <ul className=\"navbar-nav mr-auto mt-2 mt-sm-0\">\n                                    <li className=\"nav-item\">\n                                        <p className=\"nav-link\" >BGG</p>\n                                    </li>\n                                    {logic.loggedIn ?\n                                        <li className=\"nav-item\">\n                                            <p className=\"nav-link\" onClick={this.props.onLogoutClick}>Sign out</p>\n                                        </li> :\n                                        <li className=\"nav-item\">\n                                            <p className=\"nav-link\" onClick={this.handleSignInClick}>Sing In</p>\n                                        </li>\n                                    }\n\n                                    {logic.loggedIn ?\n                                        null :\n                                        <li className=\"nav-item\">\n                                            <p className=\"nav-link\" onClick={this.handleSignUpClick}>Sign Up</p>\n                                        </li>\n                                    }\n\n                                </ul>\n                            </div>\n                        </nav>\n                        <div className='header__main'>\n\n                        </div>\n                    </header>\n\n                    {/********        ********/}\n                    {/******** Search ********/}\n                    {/********        ********/}\n                    <input className=\"filter_input\" value={this.state.search} type='text' onChange={this.updateSearch} placeholder='type here to filter...' />\n\n                    <Tabs\n                        activeTab={{\n                            id: \"tab1\"\n                        }}\n                    >\n                        <Tabs.Tab id=\"tab1\" title={`All Games`}>\n                            {/** Show all games */}\n                            <GameList\n                                onSavePlayClick={this.savePlayClickHandler}\n                                onAddOrRemoveClick={this.addOrRemoveHandler}\n                                onMoreInfoClick={this.moreInfoHandler}\n                                games={this.state.allGames}\n                                searchQuery={searchQuery}\n                                loggedIn={logic.loggedIn}\n                                title={'All Games'}\n                                fromOwned={false}\n                            />\n                            {this.state.page < this.state.pages ?\n                                <h4 className=\"gamelist__loadMore\" onClick={this.loadMore}>Load more games...</h4> :\n                                <h4 className=\"gamelist__loadMore\" >No more games to show</h4>\n                            }\n                        </Tabs.Tab>\n\n                        {logic.loggedIn ?\n                            <Tabs.Tab id=\"tab2\" title='My Games'>\n                                {/** If logged in, then show \"my Games\" */}\n                                <GameList\n                                    onSavePlayClick={this.savePlayClickHandler}\n                                    onAddOrRemoveClick={this.addOrRemoveHandler}\n                                    onMoreInfoClick={this.moreInfoHandler}\n                                    games={this.state.ownedGames}\n                                    searchQuery={searchQuery}\n                                    loggedIn={logic.loggedIn}\n                                    title={'My Games'}\n                                    fromOwned={true}\n                                />\n                            </Tabs.Tab>\n                            : null\n                        }\n                        {logic.loggedIn ?\n                            <Tabs.Tab id=\"tab3\" title=\"My Plays\">\n                                <PlayList onPlayDelete={this.playDeleteHandler} plays={this.state.plays} />\n                            </Tabs.Tab>\n                            : null\n                        }\n                    </Tabs>\n\n\n                </div>\n\n                { /** Pagination */}\n\n\n\n                <footer className='footer'>\n                    <h1> This is the footer </h1>\n                </footer>\n            </div>\n        )\n    }\n\n}\n\n\nexport default withRouter(Landing)"]},"metadata":{},"sourceType":"module"}